<!DOCTYPE html>
<html>
<head>
<title>example-10</title>
<meta charset="utf-8" />

<style type="text/css">
div {
width:60px; height:60px;
margin:5px; float:left;
border:1px solid #369;
}
.test {
background-color:#369;
}
br { clear:left; }
</style>

</head>
<body>
<p>&nbsp;</p>
<div>Один</div>
<div class="test">Два</div>
<div>Три</div>
<div class="test">Четыре</div>
<div id="stop" class="test">Пять</div>
<div>Шесть</div>
<div class="test">Семь</div><br />
<button>Применить</button>

<script src="jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
    $("button").click(function(){
        var a = new Array();
        $("div.test").each(function(i){
            a.push(i + "-" + $(this).text());
            if($(this).is("#stop")) {
                $("p").text(a.join(", "));
                return false;
            }
        });
    });
});
</script>
</body>
</html>